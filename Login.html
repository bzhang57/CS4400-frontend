<!DOCTYPE html>
<html lang="en">

	<head>
		<title>Login</title>
		<center><h1>ATL Gardens, Farms, and Orchards</h1></center>

		<style type="text/css">
			.redMsg {
				visibility: visible;
				color: red;
			}
		</style>
	</head>

	<body>
		<center>
			<p>Username: <input type="text" id="username"></p>
			<p>Password: <input type="password" id="password"></p>
			<!--<div id="errorMsg" class="redMsg">Username or password incorrect</div>-->
			<button id="loginButton" type="submit" onclick="login()">Login</button>
			<p><button id="newOwnerRegistrationButton" type="button" onclick="navToNewOwnerRegistration()">New Owner Registration</button>
			<button id="newVisitorRegistrationButton" type="button" onclick="navToNewVisitorRegistration()">New Visitor Registration</button></p>

			<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript">		</script>
			<script type="text/javascript">
				function login() {
					var usernameInput = document.getElementById('username').value;
					var passwordInput = document.getElementById('password').value;
					console.log("yeet")
					console.log(usernameInput)
					console.log(passwordInput)
					var login_info = {
				          email: usernameInput,
				          password: passwordInput
				        };
					$.ajax({
						type: "POST",
						url: "http://localhost:5000/login",
				        data: JSON.stringify(login_info),
				        contentType: "application/json;charset=utf-8",
				        dataType: "text",
				        success: function() {
				        	console.log("yay");
				        },
				        complete: function(msg) {
				        	console.log(msg)
				        }
				    });
				    console.log(this.responseText);
					//should return a User object, tuple, index for userType because want to check against user type
					if (usernameInput == 'owner') {
						location.href="HomescreenOwner.html";
					} else if (usernameInput == 'visitor') {
						location.href="HomescreenVisitor.html";
					} else if (usernameInput == 'admin') {
						location.href="HomescreenAdmin.html";
					}
				}

				function navToNewOwnerRegistration() {
					location.href="OwnerRegistration.html";
				}

				function navToNewVisitorRegistration() {
					location.href="VisitorRegistration.html";
				}
			</script>
		</center>
	</body>

</html>